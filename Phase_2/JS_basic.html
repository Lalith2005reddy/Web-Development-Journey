<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JS_basic</title>
</head>
<body>
    <p>Rock Paper Scissors</p>
    <button onclick="
        playgame('Rock');
    ">Rock</button>

    <button onclick="
        playgame('Paper')
    ">Paper</button>

    <button onclick="
        playgame('Scissors');
    ">Scissors</button>
    <button onclick="
    score.Win=0;
    score.Lose=0;
    score.Tie=0;
    localStorage.removeItem('score');
    ">Reset</button>
</body>
<script>
    let score = JSON.parse(localStorage.getItem('score')) || {
            Win: 0,
            Lose: 0,
            Tie: 0
        };

        /*
    if(score===null){
        score = {
            Win: 0,
            Lose: 0,
            Tie: 0
        }
    }
*/
    function compfun(){
        const rand = Math.random();
        let compmove = '';
            if(rand >=0 && rand < 1/3){
                compmove = 'Rock';
            }
            else if(rand > 1/3 && rand < 2/3){
                compmove = 'Paper';
            }
            else if(rand > 2/3 && rand < 1){
                compmove = 'Scissors';
            }
            return compmove;
    }
    function playgame(usermove){
        let compmove = compfun();
        let result = '';
        if(usermove === 'Rock'){
            
            if(compmove === 'Rock'){
                result = 'Tie';
            }
            else if(compmove === 'Paper'){
                result = 'Lose';
            }
            else if(compmove === 'Scissors'){
                result = 'Win';
            }
            
        }
        
        else if(usermove === 'Paper'){
            if(compmove === 'Rock'){
                result = 'Win';
            }
            else if(compmove === 'Paper'){
                result = 'Tie';
            }
            else if(compmove === 'Scissors'){
                result = 'Lose';
            }
        }

        else if(usermove === 'Scissors'){
            if(compmove === 'Rock'){
                result = 'Lose';
            }
            else if(compmove === 'Paper'){
                result = 'Win';
            }
            else if(compmove === 'Scissors'){
                result = 'Tie';
            }
        }
        if(result === 'Win'){
            score.Win++;
        }
        else if(result === 'Lose'){
            score.Lose++;
        }
        else if(result === 'Tie'){
            score.Tie++;
        }

        localStorage.setItem('score',JSON.stringify(score));

        alert(`Your Move is ${usermove}. Computer Move is ${compmove} .Result is ${result}
        Wins: ${score.Win}, Loses: ${score.Lose}, Ties: ${score.Tie}`);
    }
</script>
</html>